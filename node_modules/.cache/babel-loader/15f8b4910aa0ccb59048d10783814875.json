{"ast":null,"code":"import _classCallCheck from\"/home/elite_dev/workspace/face-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/elite_dev/workspace/face-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/elite_dev/workspace/face-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/elite_dev/workspace/face-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Clarifai from'clarifai';import SignIn from'./components/SignIn/SignIn';import Register from'./components/Register/Register';import Navigation from'./components/Navigation/Navigation';import Logo from'./components/Logo/Logo';import Rank from'./components/Rank/Rank';import ImageLinkForm from'./components/ImageLinkForm/ImageLinkForm';import FaceRecognition from'./components/FaceRecognition/FaceRecognition';import'./App.css';var app=new Clarifai.App({apiKey:'681ac5b575d0420ba331b3355e17787e'});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.loadUser=function(data){_this.setState({user:{id:data.id,name:data.name,email:data.email,enteries:data.enteries,created_at:data.created_at}});};_this.calculateFaceLocation=function(data){var responseData=data.outputs[0].data.regions[0].region_info.bounding_box;var image=document.getElementById('imageFace');var width=Number(image.width);var height=Number(image.height);return{left:responseData.left_col*width,top:responseData.top_row*height,right:width-responseData.right_col*width,bottom:height-responseData.bottom_row*height};};_this.displayBoundingBox=function(box){console.log(box);_this.setState({box:box});};_this.onInputChange=function(event){_this.setState({input:event.target.value});};_this.onButtonClick=function(){_this.setState({imageUrl:_this.state.input});app.models.predict(Clarifai.FACE_DETECT_MODEL,_this.state.input).then(function(response){return _this.displayBoundingBox(_this.calculateFaceLocation(response));}).catch(function(err){return console.log(err);});};_this.onRouteChange=function(route){if(route==='signout'){_this.setState({isSignedIn:false});}else if(route==='home'){_this.setState({isSignedIn:true});}_this.setState({route:route});};_this.state={input:'',imageUrl:'',box:{},route:'signin',isSignedIn:false,user:{id:'',name:'',email:'',enteries:'',created_at:''}};return _this;}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Navigation,{onRouteChange:this.onRouteChange,isSignedIn:this.state.isSignedIn}),this.state.route==='home'?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Logo,null),/*#__PURE__*/React.createElement(Rank,null),/*#__PURE__*/React.createElement(ImageLinkForm,{onInputChange:this.onInputChange,onButtonClick:this.onButtonClick}),/*#__PURE__*/React.createElement(FaceRecognition,{imageUrl:this.state.imageUrl,box:this.state.box})):this.state.route==='signin'?/*#__PURE__*/React.createElement(SignIn,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}):/*#__PURE__*/React.createElement(Register,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/home/elite_dev/workspace/face-app/src/App.js"],"names":["React","Component","Clarifai","SignIn","Register","Navigation","Logo","Rank","ImageLinkForm","FaceRecognition","app","App","apiKey","loadUser","data","setState","user","id","name","email","enteries","created_at","calculateFaceLocation","responseData","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","left","left_col","top","top_row","right","right_col","bottom","bottom_row","displayBoundingBox","box","console","log","onInputChange","event","input","target","value","onButtonClick","imageUrl","state","models","predict","FACE_DETECT_MODEL","then","response","catch","err","onRouteChange","route","isSignedIn"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Clarifai from 'clarifai';\nimport SignIn from './components/SignIn/SignIn';\nimport Register from './components/Register/Register';\nimport Navigation from './components/Navigation/Navigation';\nimport Logo from './components/Logo/Logo';\nimport Rank from './components/Rank/Rank';\nimport ImageLinkForm from './components/ImageLinkForm/ImageLinkForm';\nimport FaceRecognition from './components/FaceRecognition/FaceRecognition';\nimport './App.css';\n\n\nconst app = new Clarifai.App({\n  apiKey: '681ac5b575d0420ba331b3355e17787e'\n });\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      input: '',\n      imageUrl: '',\n      box: {},\n      route:'signin',\n      isSignedIn: false,\n      user: {\n        id: '',\n        name: '',\n        email: '',\n        enteries: '',\n        created_at: ''\n      }\n    }\n  }\n\n  loadUser = (data) => {\n    this.setState({ user: {\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      enteries: data.enteries,\n      created_at: data.created_at\n    } })\n  }\n\n  //fetch users from API endpoint\n  /** componentDidMount(){\n        fetch('http://localhost:3000')\n          .then(res => res.json())\n          .then(console.log)\n      } **/\n\n  calculateFaceLocation = (data) => {\n    const responseData = data.outputs[0].data.regions[0].region_info.bounding_box;\n    const image = document.getElementById('imageFace');\n    const width = Number(image.width);\n    const height = Number(image.height);\n    return {\n      left: responseData.left_col * width,\n      top: responseData.top_row * height,\n      right: width - ( responseData.right_col * width),\n      bottom: height - (responseData.bottom_row * height)\n    }\n  }\n\n  displayBoundingBox = (box) => {\n    console.log(box);\n    this.setState({box: box});\n  }\n\n  onInputChange = (event) => {\n    this.setState({input: event.target.value});\n  }\n\n  onButtonClick = () => {\n    this.setState({imageUrl: this.state.input});\n    app.models.predict(Clarifai.FACE_DETECT_MODEL, this.state.input)\n    .then((response) => this.displayBoundingBox(this.calculateFaceLocation(response)))\n    .catch(err => console.log(err));\n  }\n\n  onRouteChange = (route) => {\n    if (route === 'signout'){\n      this.setState({isSignedIn: false})\n    }else if (route === 'home'){\n      this.setState({isSignedIn: true})\n    }\n    this.setState({route: route});\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <Navigation onRouteChange={this.onRouteChange} isSignedIn={this.state.isSignedIn} />\n        {this.state.route === 'home' \n          ? <div>\n              <Logo/>\n              <Rank />\n              <ImageLinkForm onInputChange={this.onInputChange} onButtonClick={this.onButtonClick} />\n              <FaceRecognition imageUrl={this.state.imageUrl} box={this.state.box} />\n            </div>\n          : (\n              this.state.route === 'signin'\n              ? <SignIn loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n              :<Register loadUser={this.loadUser} onRouteChange={this.onRouteChange} />\n            )\n        }\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}